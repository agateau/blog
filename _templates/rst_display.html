{% extends "layout.html" %}
{% block title %}{{ rst.title }}{% endblock %}
{% block extrameta %}
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="{{ ctx.url }}"/>
  <meta property="og:title" content="{{ ctx.title }}"/>
  {% if ctx.description %}
    <meta property="og:description" content="{{ ctx.description }}"/>
  {% endif %}
  {% if ctx.image %}
    <meta property="og:image" content="{{ ctx.image }}"/>
  {% endif %}
  {% if ctx.image_alt %}
    <meta property="og:image:alt" content="{{ ctx.image_alt }}"/>
  {% endif %}
  {% if ctx.tags %}
    <meta name="keywords" content="{{ ctx.tags|sort|join(', ')}}"/>
  {% endif %}
{% endblock %}
{% block body %}
  <article>
    {%- if not config.hide_title %}
    {{ rst.html_title }}
    {%- endif %}
    {% if ctx.pub_date %}
    <p class="date">written on {{ format_date(ctx.pub_date, format='full') }}</p>
    {% endif %}

    {{ rst.fragment }}

    <div class="meta">
      {% if ctx.tags %}
      <div class="tags">This post was tagged
        {% for tag in ctx.tags|sort(case_sensitive=true) %}
          {%- if not loop.first and not loop.last %}, {% endif -%}
          {%- if loop.last and not loop.first %} and {% endif %}
          <a href="{{ link_to('tag', tag=tag) }}">{{ tag }}</a>
        {%- endfor %}
      </div>
      {% endif %}

      <div class="share">
        Share on <a href="https://twitter.com/share?url={{ ctx.url|urlencode }}&amp;text={{ rst.title|urlencode }}&amp;via=aureliengateau" rel="external">Twitter</a>
      </div>
    </div>
  </article>

  {% if 'disqus' in config.active_modules %}
    <a name="comments"></a>
    {{ get_disqus() }}
  {% endif %}
{% endblock %}
