[{"id":"dsq-457709295","author":"Felix","deleted":false,"createdAt":"2007-08-31T20:38:09Z","message":"<p>Hi! Thanks for the all the hints, I am actually trying to get svn to work with Matlab on windows.<br>Your step-by-step instructions to get svn to work from the command line should do the trick, and it works fine until I get to test it using snv co ...<br>I get an 'svn: connection closed unexpectedly'<br>error.<br>Login in with plink works fine, although I am prompted to give the passphrase for the private key.<br>I suppose this is what happens when I try to connect using svn...<br>and that I'm doing something wrong.<br>Any help greately appreciated!<br>Cheers<br>Felix</p>","replies":[]},{"id":"dsq-457709282","author":"Aurélien","deleted":false,"createdAt":"2007-09-02T00:46:20Z","message":"<p>Hi felix<br>I must confess I never tried to use svn and plink with a passphrase-protected key. You could try without passphrase but I guess that's not what you are looking for...<br>Maybe the pageant program from putty website can help you, quoting the site, it's \"an SSH authentication agent for PuTTY, PSCP and Plink\". I haven't tried it yet.</p>","replies":[]},{"id":"dsq-457709283","author":"Daniel","deleted":false,"createdAt":"2007-09-05T13:27:01Z","message":"<p>Thanks for the pointers to plink and the subversion config file.</p><p>I've got this working now with a passphrase protected key. Just as you guessed pageant does the trick. Load the key into pageant it will ask you for the passphrase, and then plink and putty will get the key from pageant.</p>","replies":[]},{"id":"dsq-457709297","author":"Eric","deleted":false,"createdAt":"2007-09-27T00:12:23Z","message":"<p>If you are a Vista user you'll the path to the config file is different from that given above, rather it is:</p><p>C:\\Users\\*yourusernamehere*\\AppData\\Roaming\\Subversion</p>","replies":[]},{"id":"dsq-457709301","author":"alok","deleted":false,"createdAt":"2007-12-18T17:41:03Z","message":"<p>It worked for me --<br>Following steps I have done <br>1) open config -  plink.exe is in my path var.<br># ssh = $SVN_SSH ssh<br>ssh = plink.exe  <br>2) start Pageant - load xyz.ppk <br>3) from cmd - svn update -</p>","replies":[]},{"id":"dsq-457709303","author":"AndriyK","deleted":false,"createdAt":"2007-12-25T16:49:11Z","message":"<p>Hi! <br>This is really useful step-by-step instruction. <br>Thanks to Aurélien and others.</p><p>I think that text from putty's manual could be helpful:</p><p>You may also need to ensure that your home directory, your .ssh directory, and any other files involved (such as authorized_keys, authorized_keys2 or authorization) are not group-writable or world-writable. You can typically do this by using a command such as</p><p>chmod go-w $HOME $HOME/.ssh $HOME/.ssh/authorized_keys</p>","replies":[]},{"id":"dsq-457709304","author":"Stefan","deleted":false,"createdAt":"2008-02-12T19:37:32Z","message":"<p>Hi all,<br>I am using a passphrase-protected key generated with openssh. Unfortunately pageant can not work with this key. As an alternative svnkit provides also a good command line client.</p>","replies":[]},{"id":"dsq-457709305","author":"cooky","deleted":false,"createdAt":"2008-05-05T01:28:56Z","message":"<p>Hi,<br>I have the same problem as Felix in the first entry.<br>plink works even without passphrase but as soon I start svn an error rises:<br>’svn: connection closed unexpectedly’</p><p>I've tried for hours but now I have no more idea.<br>Any hint is welcome.</p><p>thx</p>","replies":[]},{"id":"dsq-457709306","author":"plebe","deleted":false,"createdAt":"2008-05-24T07:37:42Z","message":"<p>1.  There is not environment variable $HOME on Window 2003 server.  Should it be $HOMEPATH?</p><p>2.  The plink -i ... command gives<br>FATAL ERROR: Network error: Connection refused<br>No firewall is installed on the windows 2003.  Anyone<br>have a solution?</p>","replies":[]},{"id":"dsq-457709313","author":"acton","deleted":false,"createdAt":"2008-07-10T23:31:09Z","message":"<p>thx. great</p>","replies":[]},{"id":"dsq-457709312","author":"ndgiang","deleted":false,"createdAt":"2008-07-30T13:03:47Z","message":"<p>me got FATAL ERROR too. dont know why pls help us thanks</p>","replies":[]},{"id":"dsq-457709300","author":"Anthony","deleted":false,"createdAt":"2008-10-14T21:06:26Z","message":"<p>Hi,</p><p>I have setup SVN+SSH on my server, but when I try to test the SSH user access, I hit a tiny block.</p><p>This command:</p><p>command=\"/usr/bin/svnserve -t -r /home/[site5-username]/svn/[projectx] <br>--tunnel-user=[subversion user name]\",no-port-forwarding,no-agent-forwarding,no-X11-forwarding,no-pty [public key text from <a href=\"http://id_rsa.pub\" rel=\"nofollow noopener\" title=\"id_rsa.pub\">id_rsa.pub</a>]</p><p>creates the SSH user. But the last part \"[public key text from <a href=\"http://id_rsa.pub\" rel=\"nofollow noopener\" title=\"id_rsa.pub\">id_rsa.pub</a>]\"  seems to be my problem. Is this the password of the user that I just created?</p><p>I have tried to test the SSH login, and it is not accepting that as user password.</p><p>Thanks in advance (from a new SVN user)</p><p>Anthony</p>","replies":[]},{"id":"dsq-457709298","author":"Anthony","deleted":false,"createdAt":"2008-10-14T21:08:36Z","message":"<p>PS: I'm running windows Vista on my PC. But my server is UNIX and I am SSH-ing via SmartSVN.</p>","replies":[]},{"id":"dsq-457709315","author":"Baronozone","deleted":false,"createdAt":"2008-12-17T03:16:22Z","message":"<p>Thanks for the help -- it got me off to a good start (after much frustration).</p><p>I've been writing a test program using pySVN that I wanted to distribute to several sites (Windows XP systems) to access several SVN repositories for automated testing.  One thing I didn't want was to have to load the Subversion server on all the remote systems, just so I could edit the config file with:<br>ssh=c:/path/to/plink.exe, which did get me running on my development system -- but I'm running a local server on that system anyway.</p><p>The solution was to add the following variable to the system environment variables (or user variables) on the remote systems:<br>SVN_SSH       c:/path/to/plink.exe</p><p>or if you prefer the backslash:<br>SVN_SSH       c:\\\\path\\\\to\\\\plink.exe</p><p>I have Pageant running with the key selected on each system with PuTTY configured with the session connection details as well.  So no need to load anything other than my application and Putty/Pageant/Plink on each system.  (You wouldn't think you'd need a server on every system for client access anyway!)</p><p>Cheers!</p>","replies":[]},{"id":"dsq-457709316","author":"jack","deleted":false,"createdAt":"2009-01-12T19:58:27Z","message":"<p>Nice article,</p><p>However don't forget to specify the port if you changed it to something else. Security wise, it's a good thing to do:</p><p>if your port is 25000, then:</p><p>ssh=c:/path/to/plink.exe -i c:/path/to/your/key.ppk -P 25000</p>","replies":[]},{"id":"dsq-457709319","author":"alessandro","deleted":false,"createdAt":"2009-01-29T22:39:49Z","message":"<p>Thank you: very useful tips !</p>","replies":[]},{"id":"dsq-457709323","author":"shawn","deleted":false,"createdAt":"2009-03-02T07:27:09Z","message":"<p>Firstly, great post and comments, they helped me a great deal!</p><p>I had everything pretty much set up the way everyone else described with svn, plink and pageant with a passphrase and still got the \"connection closed unexpectedly\"</p><p>I finally got things to work after forcing some options in the svn config file:</p><p>-load \"savedprofile\"<br>-l serveradmin@host.com<br>-agent</p><p>\"-load\" causes plink to use a saved profile (this was just convenient)<br>\"-l\" specifies the user account you want to use<br>\"-agent\" instructs plink to use pageant</p><p>Not all of this is required I'm sure... but if you're using pageant and think you have everything else setup but still get the error, try forcing some of these options.</p><p>In my svn config file, it reads like this now:</p><p>ssh = c:/plink.exe -load myputtyprofilename -l serveradmin@myhost.com -agent</p>","replies":[]},{"id":"dsq-457709326","author":"Dan Dascalescu","deleted":false,"createdAt":"2009-07-29T02:45:18Z","message":"<p>For people who can't get plink (or PuTTY) to work, I wrote an article on <a href=\"http://wiki.dandascalescu.com/howtos/subversion/subversion_access_through_ssh_on_windows\" rel=\"nofollow noopener\" title=\"http://wiki.dandascalescu.com/howtos/subversion/subversion_access_through_ssh_on_windows\">how to get SVN access on Windows with the SSH client from Git</a>.</p>","replies":[]},{"id":"dsq-457709327","author":"Rick","deleted":false,"createdAt":"2009-08-24T06:39:19Z","message":"<p>If you're using a Windows client with a Linux host (server), be SURE to generate your keys on the server using ssh-keygen.  The keys generated on Windows definitely don't work when copied over to Linux (not sure why).</p><p>If you generate the RSA keys on the server, then move your private key file to your Windows PC, you'll find that the \"plink\" example above actually works on Windows.</p><p>Hope that's helpful (cost me several hours of wasted time, hopefully you'll read this and save that time)</p><p>Rick</p>","replies":[]},{"id":"dsq-457709329","author":"GreenT","deleted":false,"createdAt":"2009-08-27T07:00:59Z","message":"<p>Hi,</p><p>You can download some tools from this site.<br><a href=\"http://www.clearvision-cm.com/clearvision-news/download-subversion-for-windows.html\" rel=\"nofollow noopener\" title=\"http://www.clearvision-cm.com/clearvision-news/download-subversion-for-windows.html\">http://www.clearvision-cm.c...</a></p><p>Installing the client tool will give you command line functionality as well</p><p>GreenT</p>","replies":[]},{"id":"dsq-457709331","author":"Mark","deleted":false,"createdAt":"2009-09-20T19:22:57Z","message":"<p>For those of you using a passphrase protected key remember to add the key to pageant otherwise your plink commands will just hang.</p>","replies":[]},{"id":"dsq-457709332","author":"Krommenaas","deleted":false,"createdAt":"2009-10-02T17:12:36Z","message":"<p>Thank you, after three days of trying to connect to a svn repository I set up at my webhost from my XP machine, this page finally helped me do it :)</p>","replies":[]},{"id":"dsq-457709334","author":"ppo","deleted":false,"createdAt":"2010-01-06T02:39:28Z","message":"<p>in case you can't find the config files after svn fresh install you need to run at least once some reasonable svn command like svn -version to have them created in Application Data directory.</p>","replies":[]},{"id":"dsq-457709335","author":"Martin Ferrari","deleted":false,"createdAt":"2010-01-20T09:06:12Z","message":"<p>Great!!! Very much thank you!!!</p>","replies":[]},{"id":"dsq-457709336","author":"Colin","deleted":false,"createdAt":"2010-02-17T16:06:31Z","message":"<p>ssh=c:/path/to/plink.exe -i c:/path/to/your/key.ppk</p><p>should read</p><p>ssh=c:/path/to/plink.exe -l loginname -i c:/path/to/your/key.ppk</p><p>At least it solved my problem anyway.</p>","replies":[]},{"id":"dsq-457709339","author":"Jaisal","deleted":false,"createdAt":"2010-08-24T11:17:44Z","message":"<p>Hi,</p><p>I am using Tortoise SVN and the subversion repository(server) is not local and has https: in it. In this case will the same solution work?</p>","replies":[]},{"id":"dsq-457709340","author":"miro ilias","deleted":false,"createdAt":"2010-11-20T20:45:08Z","message":"<p>Hi all,</p><p>I have played a lot with svn co svn+ssh... a found that the recommended \"plink.exe\" is not working for svn co. It is, however, working for direct ssh connection.</p><p>So I have switched to TortoiseSVN, <a href=\"http://tortoisesvn.tigris.org\" rel=\"nofollow noopener\" title=\"http://tortoisesvn.tigris.org\">http://tortoisesvn.tigris.org</a>, from where I employed the  \"TortoisePlink.exe\", which I have put int o my svn config (SlikSVN program) as \"ssh=TortoisePlink.exe -v -i C:\\\\Users\\\\...\\\\myprivatekey.ppk\"</p><p>Now I  am able to connect my svn server.</p><p>Best, M.</p>","replies":[{"id":"dsq-457709345","author":"Aurélien","deleted":false,"createdAt":"2010-11-21T15:29:15Z","message":"<p>Thanks for this update, Miro.</p>","replies":[]}]},{"id":"dsq-457709343","author":"Bala","deleted":false,"createdAt":"2010-12-23T22:25:22Z","message":"<p>Is this type of connection using  pageant and plink is it encrypted and safe.</p><p>In words the data that is transferred through the connection is it encrypted.</p><p>Thanks<br>Bala</p>","replies":[]},{"id":"dsq-457709347","author":"Sadik","deleted":false,"createdAt":"2011-01-22T19:24:30Z","message":"<p>I tried it with plink and it did not help. plink seems not to function or so.<br>So I tried cygwin:<br>ssh=c:/path/to/cygwin /bin/ssh.exe -i c:/path/to/your/key.ppk</p><p>It says:<br>authenticity of host '...'  can't be established<br>RSA key fingerprint is 3f: ..........<br>Are you sure you want to continue connectin? (yes/no)</p><p>After typing yes I have to enter my passphrase. Although Im tiping the correct one he wants me to enter it again, 3 times. After 3rd time all is over. I dont get connection.</p><p>Tortoise does not help me in no way.<br>I don't know what to test now</p>","replies":[]},{"id":"dsq-457709346","author":"Rick","deleted":false,"createdAt":"2011-01-24T04:52:02Z","message":"<p>OK. Here’s how I fixed this (on Mac OS X, but fix should work on any client)</p><p>This particular issue arises when you are using a non-standard port (let’s say 12001 for sake of example) for your SSH server.</p><p>Apparently the SVN client experiences syntax errors when given a port address on a command line like this one:</p><p>svn list svn+<a href=\"ssh://username@domainname.com\" rel=\"nofollow noopener\" title=\"ssh://username@domainname.com\">ssh://username@domainname.com</a>:12001/home/username/svn/myproject</p><p>So, to fix this, you need to create a client-side config file for SSH like this:</p><p>cd ~<br>cd .ssh<br>vi config (create a config file like the one that follows)<br>:w<br>:q</p><p>Config file located in ~/.ssh/config:</p><p>Host <a href=\"http://domain.com\" rel=\"nofollow noopener\" title=\"domain.com\">domain.com</a><br>User username<br>Port 12001</p><p>Then, issue your svn+ssh command WITHOUT the port like this:</p><p>svn list svn+<a href=\"ssh://username@domain.com/home/username/svn/myproject\" rel=\"nofollow noopener\" title=\"ssh://username@domain.com/home/username/svn/myproject\">ssh://username@domain.com/h...</a></p><p>That’s it!</p><p>Hope that helps.<br>Rick</p>","replies":[]},{"id":"dsq-457709349","author":"torsionpeg","deleted":false,"createdAt":"2011-03-14T20:06:29Z","message":"<p>Tortoise comes packed in with Plink now.</p>","replies":[]},{"id":"dsq-457709350","author":"Timothy","deleted":false,"createdAt":"2011-06-06T00:44:23Z","message":"<p>This was very helpful... thank you for putting this out there; you saved me much the same headache.</p>","replies":[]},{"id":"dsq-457709352","author":"","deleted":true,"createdAt":"2012-02-28T01:50:09Z","message":"","replies":[]},{"id":"dsq-645750361","author":"silvansky","deleted":false,"createdAt":"2012-04-16T11:47:29Z","message":"<p>Thanx a log! You saved my time.</p>","replies":[]},{"id":"dsq-645750365","author":"Zazou","deleted":false,"createdAt":"2012-05-23T19:58:03Z","message":"<p>In case of error : \"The server's host key is not cached in the registry\"<br>Just run psftp.exe in the Putty install directory.<br>Connect to the server, and answer Y to the question.<br>After this, the question is never ask again.</p>","replies":[{"id":"dsq-645750368","author":"Alon","deleted":false,"createdAt":"2012-07-26T00:26:40Z","message":"<p>Over 5 years after your original post, it still worked perfectly.  Thank you.</p>","replies":[{"id":"dsq-645750371","author":"Aurélien","deleted":false,"createdAt":"2012-07-27T17:10:21Z","message":"<p>Heh, it's my most visited post :)</p>","replies":[]}]}]},{"id":"dsq-803012426","author":"lxqn","deleted":false,"createdAt":"2013-02-18T14:24:01Z","message":"<p>This just saved me a lot of time.  Wow... THANKS!!!</p>","replies":[]},{"id":"dsq-838113897","author":"krutal","deleted":false,"createdAt":"2013-03-22T06:27:38Z","message":"<p>how to import a new project in svn ssh repository ?</p>","replies":[]}]